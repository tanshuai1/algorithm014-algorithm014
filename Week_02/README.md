# 学习笔记

## HashMap总结

1：底层数据结构

jdk1.7：HashMap使用了：数组+链表

jdk1.8：HashMap使用了：数组+链表+红黑树

2：默认的hash数组大小是16，且数组大小无论是否扩容都保持为2的n次方

3：jdk1.8底层数据结构引入了红黑树，好处是可以提高查询效率(jdk1.7中极端情况下查询是O(n)，如果引入红黑树在极端情况下的查询可以降低为O(log n))，当散列表某一桶内链表节点数>=8时链表树化成红黑树，红黑树太小时退化成链表，退化的阈值为6

4：hashmap在插入数据时如果发送了hash冲突，优先判断该位置上是否是红黑树，如果是则存入红黑树中，如果是链表则插入链表尾节点上(jdk1.7是插入到链表头节点上)，插入完成后还判断链表的节点数是否大于等于设定好的链表转红黑树的阈值，如果满足则将链表转换为红黑树

5：hashmap扩容时：扩容后是2n,n为旧容量